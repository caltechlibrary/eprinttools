.\" Automatically generated by Pandoc 3.1.4
.\"
.\" Define V font for inline verbatim, using C font in formats
.\" that render this, and otherwise B font.
.ie "\f[CB]x\f[]"x" \{\
. ftr V B
. ftr VI BI
. ftr VB B
. ftr VBI BI
.\}
.el \{\
. ftr V CR
. ftr VI CI
. ftr VB CB
. ftr VBI CBI
.\}
.TH "ep3harvester (1) user manual" "" "" "" ""
.hy
.SH NAME
.PP
ep3harvester
.SH SYNOPSIS
.PP
ep3harvester OPTIONS JSON_SETTINGS_FILENAME
.PD 0
.P
.PD
[START_TIMESTAMP] [END_TIMESTAMP]
.SH DESCRIPTION
.PP
ep3harvester is a command line program for metadata harvesting of
EPrints repositories.
.PP
ep3harvester takes a JSON settings file and harvests all the EPrint
repositories defined in the settings file into a JSON store implemented
in MySQL 8.
One repository per MySQL 8 table.
.PP
Each MySQL 8 table has several columns id, src (holding the JSON
document as a JSON column) and an updated (holding the timestamp of when
the metadata was harvested).
.SH CONFIGURATION
.PP
ep3harvester can generate an example settings JSON document.
You can then edit it with any plain text editor (e.g.\ nano).
Then you\[cq]ll need to setup a MySQL 8 database and tables to store
havested data in.
.PP
ep3harvester uses a MySQL 8 database for a JSON document store.
It will generate one table for EPrint repository.
You can generate a SQL program for creating the MySQL database and
tables from your settings JSON file using the \[lq]-sql-schema\[rq]
option.
Using the option will require a JSON settings filename parameter.
E.g.
.IP
.nf
\f[C]
    ep3harvester -init harvester-settings.json
    nano harvester-settings.json
    ep3harvester -sql-schema harvester-settings.json >collections.sql
\f[R]
.fi
.SH OPTIONS
.TP
-help
display help
.TP
-version
display version
.TP
-license
display license
.TP
-groups
Harvest groups from CSV files included configuration
.TP
-init
generate a settings JSON file
.TP
-eprintids
harvest the eprintids indicated by the filename, one id per line
.TP
-people
Harvest people from CSV files included configuration
.TP
-people-groups
Harvest people and groups from CSV files included configuration
.TP
-repo string
Harvest a specific repository id defined in configuration
.TP
-simple
Crosswalk the harvested eprint record to the simplified record model
before saving the JSON to the SQL database.
.TP
-sql-schema
display SQL schema for installing MySQL jsonstore DB
.TP
-verbose
use verbose logging
.SH EXAMPLES
.PP
Harvesting repositories for the month of May, 2022.
.IP
.nf
\f[C]
    ep3harvester harvester-settings.json \[rs]
        \[dq]2022-05-01 00:00:00\[dq] \[dq]2022-05-31 59:59:59\[dq]
\f[R]
.fi
.PP
Harvesting a caltechauthors repo using harvester-settings.json for week
month of the month of May, 2022.
.IP
.nf
\f[C]
    ep3harvester -repo caltechauthors harvester-settings.json \[rs] 
        \[dq]2022-05-01 00:00:00\[dq] \[dq]2022-05-31 59:59:59\[dq]
\f[R]
.fi
.PP
ep3harvester 1.2.4
.SH AUTHORS
R. S. Doiel.
