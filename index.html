<!DOCTYPE html>
<html>
<head>
    <title>eprinttools</title>
    <link href='https://fonts.googleapis.com/css?family=Open+Sans' rel='stylesheet' type='text/css'>
    <link rel="stylesheet" href="/css/site.css">
</head>
<body>
<header>
<a href="http://library.caltech.edu" title="link to Caltech Library Homepage"><img src="/assets/liblogo.gif" alt="Caltech Library logo"></a>
</header>
<nav>
<ul>
<li>
<a href="/">Home</a>
</li>
<li>
<a href="./">README</a>
</li>
<li>
<a href="license.html">LICENSE</a>
</li>
<li>
<a href="install.html">INSTALL</a>
</li>
<li>
<a href="docs/">Documentation</a>
</li>
<li>
<a
href="https://github.com/caltechlibrary/eprinttools">Github</a>
</li>
<li>
<a
href="https://github.com/caltechlibrary/eprinttools/releases/latest">Releases</a>
</li>
</ul>
</nav>

<section>
<h1 id="eprinttools">
eprinttools
</h1>
<p>
This is a collection of command line tools and web service written in Go
for working with EPrints 3.3.x EPrint XML, the EPrint REST API and
directly with the respository database(s).
</p>
<h2 id="go-base-code">
Go base code
</h2>
<p>
The programs:
</p>
<ul>
<li>
<a href="docs/eputil.html">eputil</a> is a command line utility for
interacting (e.g. harvesting) JSON and XML from EPrints’ REST API
<ul>
<li>
minimal configuration (because it does so much less!)
</li>
</ul>
</li>
<li>
<a href="docs/epfmt.html">epfmt</a> is a command line utility to pretty
print EPrints XML and convert to/from JSON including a simplified JSON
inspired by DataCite and Invenion 3
</li>
<li>
<a href="docs/doi2eprintxml.html">doi2eprintxml</a> is a command line
program for turning metadata harvested from CrossRef and DataCite into
an EPrint XML document based on one or more supplied DOI
</li>
<li>
<a href="docs/ep3apid.html">ep3apid</a> is a Unix style web service for
interacting with an EPrint repository via a localhost proxy. It includes
the ability to get restricted key lists as well as retrieve a simplified
JSON record representing an EPrints record
</li>
</ul>
<p>
The <code>ep3apid</code> web service is configured via a JSON
“settings.json” file. The settings includes a repository id with “dsn”
(Data Source Name) attribute for accessing EPrint’s MySQL database(s)
and “rest” attribute holding the base URL used to access the REST API.
You can define more than one repository in “settings.json”. Below is a
simple example for “example.edu”’s authors repository.
</p>
<div id="cb1" class="sourceCode">
<pre
class="sourceCode json"><code class="sourceCode json"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a>    <span class="fu">{</span></span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a>        <span class="dt">&quot;authors&quot;</span><span class="fu">:</span> <span class="fu">{</span></span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a>            <span class="dt">&quot;dsn&quot;</span><span class="fu">:</span> <span class="st">&quot;USERNAME:SECRET@/authors&quot;</span><span class="fu">,</span></span>
<span id="cb1-4"><a href="#cb1-4" aria-hidden="true" tabindex="-1"></a>            <span class="dt">&quot;base_url&quot;</span><span class="fu">:</span> <span class="st">&quot;https://authors.example.edu&quot;</span><span class="fu">,</span></span>
<span id="cb1-5"><a href="#cb1-5" aria-hidden="true" tabindex="-1"></a>            <span class="dt">&quot;rest&quot;</span><span class="fu">:</span> <span class="st">&quot;https://USERNAME:SECRET@authors.example.edu&quot;</span><span class="fu">,</span></span>
<span id="cb1-6"><a href="#cb1-6" aria-hidden="true" tabindex="-1"></a>            <span class="dt">&quot;write&quot;</span><span class="fu">:</span> <span class="kw">true</span><span class="fu">,</span></span>
<span id="cb1-7"><a href="#cb1-7" aria-hidden="true" tabindex="-1"></a>            <span class="dt">&quot;default_rights&quot;</span><span class="fu">:</span> <span class="st">&quot;SOME RIGHTS STATEMENT HERE&quot;</span><span class="fu">,</span></span>
<span id="cb1-8"><a href="#cb1-8" aria-hidden="true" tabindex="-1"></a>            <span class="dt">&quot;default_official_url&quot;</span><span class="fu">:</span> <span class="st">&quot;SOME PERMA LINK URL PREFIX HERE&quot;</span><span class="fu">,</span></span>
<span id="cb1-9"><a href="#cb1-9" aria-hidden="true" tabindex="-1"></a>            <span class="dt">&quot;default_collection&quot;</span><span class="fu">:</span> <span class="st">&quot;COLLECTION_NAME_HERE&quot;</span><span class="fu">,</span></span>
<span id="cb1-10"><a href="#cb1-10" aria-hidden="true" tabindex="-1"></a>            <span class="dt">&quot;default_refereed&quot;</span><span class="fu">:</span> <span class="st">&quot;DEFAULT_VALUE_IN_REFEREED_FIELD_FOR_ARTICLES&quot;</span><span class="fu">,</span></span>
<span id="cb1-11"><a href="#cb1-11" aria-hidden="true" tabindex="-1"></a>            <span class="dt">&quot;default_status&quot;</span><span class="fu">:</span> <span class="st">&quot;EVENT_STATUS_E_G_INBOX_OR_BUFFER_OR_ARCHIVE&quot;</span><span class="fu">,</span></span>
<span id="cb1-12"><a href="#cb1-12" aria-hidden="true" tabindex="-1"></a>            <span class="dt">&quot;strip_tags&quot;</span><span class="fu">:</span> <span class="er">BOOLEAN_TRUE_STRIP_HTML_XML_TAGS_FROM_ABSTRACT</span></span>
<span id="cb1-13"><a href="#cb1-13" aria-hidden="true" tabindex="-1"></a>        <span class="fu">}</span></span>
<span id="cb1-14"><a href="#cb1-14" aria-hidden="true" tabindex="-1"></a>    <span class="fu">}</span></span></code></pre>
</div>
<p>
In the “dsn” attribute <strong>USERNAME:SECRET</strong> are the
username/password for accessing the database. In the “rest” attribute
the <strong>USERNAME:SECRET</strong> are the username/password for
accessing the REST API.
</p>
<h2 id="use-case">
Use case
</h2>
<p>
Two primary use cases have driven development of EPrinttools
</p>
<ol type="1">
<li>
Reusing the metadata and content in our EPrints 3.3.16 repositories (see
<a href="https://feeds.library.caltech.edu">Caltech Library Feeds</a>
</li>
<li>
Populating our EPrints repository from standardize data sources (see
<a href="https://github.com/caltechlibrary/Acacia">Acacia Project</a>).
</li>
</ol>
<h2 id="related-github-projects">
Related GitHub projects
</h2>
<ul>
<li>
<a
href="https://github.com/caltechlibrary/py_dataset">py_dataset</a>, This
Python module provides access to dataset collections which we use as
intermediate storage for JSON documents and related attachments.
</li>
<li>
<a href="https://github.com/caltechlibrary/ames">AMES</a>, The
eprintools command line programs have been made available to Python via
the AMES project. This include support for both read and write to
EPrints repository systems.
</li>
</ul>
</section>

<footer>
<span>&copy; 2021 <a href="https://www.library.caltech.edu/copyright">Caltech Library</a></span>
<address>1200 E California Blvd, Mail Code 1-32, Pasadena, CA 91125-3200</address>
<span><a href="mailto:library@caltech.edu">Email Us</a></span> 
<span>Phone: <a href="tel:+1-626-395-3405">(626)395-3405</a></span>
</footer>
<!-- START: PrettyFi from https://github.com/google/code-prettify -->
<script>
/* We want to add the class "prettyprint" to all the pre elements */
var pre_list = document.querySelectorAll("pre");

pre_list.forEach(function(elem) {
    elem.classList.add("prettyprint");
    elem.classList.add("linenums");/**/
    elem.classList.add("json"); /**/
});
</script>
<style>
li.L0, li.L1, li.L2, li.L3, li.L4, li.L5, li.L6, li.L7, li.L8, li.L9
{
    color: #555;
    list-style-type: decimal;
}
</style>
<link rel="stylesheet" type="text/css" href="/css/prettify.css">
<script src="https://cdn.jsdelivr.net/gh/google/code-prettify@master/loader/run_
prettify.js"></script>
<!--  END: PrettyFi from https://github.com/google/code-prettify -->
</body>
</html>
